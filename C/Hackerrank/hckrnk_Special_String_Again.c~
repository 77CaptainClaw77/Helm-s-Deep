#include <stdio.h>
#include <string.h>
int is_special(char s[],start_pos,end_pos){
  int len=start_pos-end_pos+1;
  int mid_point=(start_pos+end_pos)/2;
  int odd=0,i=0;
  if(len%2!=0)
    odd=1;
  char ch=s[start_pos];
  int valid=1;
  for(i=start_pos+1;i<=end_pos;i++){
    if(ch!=s[i] && (!odd || (odd && i!=mid_point))){
      valid=0;
      break;
    }
  }
  return valid;
}
int main(){
  char s[1000001];
  int len,i;
  int count=0;
  scanf("%d", &len);
  for(i=0;i<len;i++)
    scanf("%d",&s[i]);
  for(i=0;i<len;i++)
    for(j=0;j+i<len;j++)
      count+=is_special(s,j,i+j);
  printf("%d",count);
}
